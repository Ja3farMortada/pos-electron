import{b as ne}from"./chunk-4ONBVWLA.js";import{a as te,b as oe}from"./chunk-UIPYUTXU.js";import{a as re}from"./chunk-QLTNVVXU.js";import{m as ie}from"./chunk-LBGQA5HW.js";import{c as Z}from"./chunk-VVKQAEX7.js";import{C as a,D as w,Fa as c,Ga as _,J as y,Ja as F,Jb as B,K as f,Ka as V,L as g,La as k,Na as I,Oa as S,P as h,Pa as N,Qc as $,Rc as ee,Sb as q,Vb as G,Wb as P,Xa as l,Y as s,Ya as p,Yb as U,_b as z,ac as A,bc as H,ga as D,gb as M,gc as O,hc as R,ia as m,ic as W,jc as j,kc as L,la as T,mc as J,nb as E,oa as n,pa as o,qa as v,r as x,ua as b,va as d,wa as u,wc as K,xc as Q,yc as X,zc as Y}from"./chunk-DSVZHE42.js";var ae=()=>({width:"55vw"}),se=()=>({"1199px":"55vw","575px":"95vw"}),me=t=>({"ng-invalid ng-dirty":t});function ue(t,le){if(t&1){let e=b();n(0,"form",3),d("ngSubmit",function(){f(e);let i=u();return g(i.submitSupplier())}),n(1,"div",4)(2,"div",5)(3,"label",6),c(4),l(5,"translate"),o(),v(6,"input",7),o(),n(7,"div",5)(8,"label",8),c(9),l(10,"translate"),o(),v(11,"input",9),o(),n(12,"div",10)(13,"label",11),c(14),l(15,"translate"),o(),n(16,"textarea",12),c(17,"                    "),o()()()()}if(t&2){let e=u();m("formGroup",e.supplierForm),s(4),_(p(5,5,"Supplier Name")),s(2),m("ngClass",N(11,me,e.f.name.invalid&&(e.f.name.dirty||e.f.name.touched))),s(3),_(p(10,7,"Supplier Phone")),s(5),_(p(15,9,"Address"))}}function de(t,le){if(t&1){let e=b();n(0,"p-button",13),l(1,"translate"),d("onClick",function(){f(e);let i=u();return g(i.closeDialog())}),o(),n(2,"p-button",14),l(3,"translate"),d("onClick",function(){f(e);let i=u();return g(i.submitSupplier())}),o()}if(t&2){let e=u();m("label",p(1,3,"Cancel")),s(2),m("label",p(3,5,"Save"))("loading",e.loading)}}var ze=(()=>{class t{constructor(){this.suppliersService=a(re),this.confirmationService=a(B),this.fb=a(L),this.apiService=a(P),this.notification=a(G),this.visible=!1,this.mode="add",this.supplier=null,this.visibleChange=new h,this.onCreate=new h,this.onUpdate=new h,this.supplierForm=this.fb.group({account_id:[null],name:[null,z.required],phone:[null],address:[null]}),this.loading=!1,this.submitted=!1}ngOnChanges(e){e.visible&&(this.mode==="edit"?this.supplierForm.patchValue(this.supplier):this.supplierForm.reset())}get f(){return this.supplierForm.controls}closeDialog(){this.submitted=!1,this.visibleChange.emit(!1)}submitSupplier(){if(this.submitted=!0,this.supplierForm.valid){this.loading=!0;let e=this.supplierForm.getRawValue();(this.mode=="add"?this.apiService.post("suppliers",e):this.apiService.put("suppliers",e)).pipe(x(()=>{this.loading=!1})).subscribe({next:i=>{this.mode=="add"?this.onCreate.emit(i):this.onUpdate.emit(i),this.closeDialog(),this.notification.showSuccess()}})}}select(e){e.select()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=w({type:t,selectors:[["supplier-dialog"]],inputs:{visible:"visible",mode:"mode",supplier:"supplier"},outputs:{visibleChange:"visibleChange",onCreate:"onCreate",onUpdate:"onUpdate"},standalone:!0,features:[y,I],decls:4,vars:10,consts:[["position","top","styleClass","p-fluid",3,"visibleChange","onHide","visible","header","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-12","md:col-6"],["for","name"],["id","name","type","text","pInputText","","formControlName","name","autocomplete","off","required","","autofocus","","spellcheck","false",3,"ngClass"],["for","phone"],["id","phone","type","text","pInputText","","formControlName","phone","spellcheck","false"],[1,"field","col-12","md:col-12"],["for","address"],["id","address","name","address","rows","3","pInputTextarea","","formControlName","address","spellcheck","false"],["icon","pi pi-times","severity","secondary","size","small",3,"onClick","label"],["icon","pi pi-check","severity","success","size","small",3,"onClick","label","loading"]],template:function(r,i){r&1&&(n(0,"p-dialog",0),l(1,"translate"),k("visibleChange",function(C){return V(i.visible,C)||(i.visible=C),C}),d("onHide",function(){return i.closeDialog()}),D(2,ue,18,13,"ng-template",1)(3,de,4,7,"ng-template",2),o()),r&2&&(T(S(8,ae)),F("visible",i.visible),m("header",p(1,6,"Customer"))("modal",!0)("breakpoints",S(9,se)))},dependencies:[ee,$,q,Q,K,J,O,U,A,H,j,R,W,E,M,Y,X,ne,oe,te,ie,Z]})}}return t})();export{ze as a};
