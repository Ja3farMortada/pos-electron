import{b as ee}from"./chunk-5JE6H3SD.js";import{c as $}from"./chunk-QJMHFOYW.js";import{s as Y,t as Z}from"./chunk-LBGQA5HW.js";import{c as K}from"./chunk-VVKQAEX7.js";import{C as l,D as C,Fa as p,G as b,Ga as D,J as x,Ja as w,K as c,Ka as F,L as u,La as T,Na as E,Oa as V,P as y,Qc as Q,Rc as X,Sb as B,Xa as I,Y as _,Ya as N,Yb as M,_b as v,ac as R,bc as L,ga as P,gc as O,hc as q,ia as d,ic as G,jc as H,kc as W,la as S,mc as j,nb as k,oa as o,pa as i,qa as a,ua as g,va as s,wa as m,wc as z,xc as A,yc as U,zc as J}from"./chunk-DSVZHE42.js";import{g as h}from"./chunk-GAL4ENT6.js";var re=()=>({width:"35vw"});function oe(e,te){if(e&1){let t=g();o(0,"form",3),s("ngSubmit",function(){c(t);let n=m();return u(n.printInvoice())}),o(1,"div",4)(2,"div",5)(3,"label",6),p(4),I(5,"translate"),i(),a(6,"input",7),i(),o(7,"div",5)(8,"label",8),p(9,"Customer Phone"),i(),a(10,"input",9),i(),o(11,"div",10)(12,"label",11),p(13,"Customer Address"),i(),a(14,"input",12),i()(),o(15,"div",13)(16,"label",14),p(17,"Print Invoice Currency"),i(),a(18,"p-selectButton",15),i()()}if(e&2){let t=m();d("formGroup",t.printForm),_(4),D(N(5,3,"Customer Name")),_(14),d("options",t.currencyOptions)}}function le(e,te){if(e&1){let t=g();o(0,"p-button",16),s("onClick",function(){c(t);let n=m();return u(n.closePrintDialog())}),i(),o(1,"p-button",17),s("onClick",function(){c(t);let n=m();return u(n.printInvoice())}),i()}}var De=(()=>{class e{constructor(){this.fb=l(W),this.printService=l(ee),this.visible=!1,this.visibleChange=new y,this.currencyOptions=[{label:"USD",value:"dollar"},{label:"LBP",value:"lira"}],this.printForm=this.fb.group({type:["sale",v.required],invoice_number:[null],customer_name:[null],customer_phone:[null],customer_address:[null],currency:["dollar",v.required],order_datetime:[null],items:[null],exchange_rate:[null],total_amount:[null]})}ngOnChanges(t){t.visible&&this.visible&&(console.log(this.invoice),this.printForm.patchValue(this.invoice))}closePrintDialog(){this.printForm.reset({type:"sale",currency:"dollar"}),this.visibleChange.emit(!1)}printInvoice(){return h(this,null,function*(){this.printForm.valid&&(console.log(this.printForm.value),yield this.printService.print(this.printForm.value),this.closePrintDialog())})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=C({type:e,selectors:[["print-dialog"]],inputs:{visible:"visible",invoice:"invoice"},outputs:{visibleChange:"visibleChange"},standalone:!0,features:[x,E],decls:3,vars:6,consts:[["header","Print Details","position","center",3,"visibleChange","onHide","visible","modal","closable"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid","p-fluid"],[1,"field","col-6"],["for","name"],["type","text","pInputText","","formControlName","customer_name","spellcheck","false"],["for","phone"],["type","text","pInputText","","formControlName","customer_phone","spellcheck","false"],[1,"field","col-12"],["for","address"],["type","text","pInputText","","formControlName","customer_address","spellcheck","false"],[1,"field","mt-2"],["for","currency"],["formControlName","currency","optionLabel","label","optionValue","value","required","",3,"options"],["label","Cancel","icon","pi pi-times","size","small","severity","secondary",3,"onClick"],["label","Print","icon","pi pi-print","size","small","severity","contrast",3,"onClick"]],template:function(r,n){r&1&&(o(0,"p-dialog",0),T("visibleChange",function(f){return F(n.visible,f)||(n.visible=f),f}),s("onHide",function(){return n.closePrintDialog()}),P(1,oe,19,5,"ng-template",1)(2,le,2,0,"ng-template",2),i()),r&2&&(S(V(5,re)),w("visible",n.visible),d("modal",!0)("closable",!0))},dependencies:[X,Q,B,j,O,M,R,L,H,q,G,k,A,z,J,U,Z,Y,K]})}}return e})();var Ie=(()=>{class e{constructor(){this.rateService=l($),this.exchangeRate=this.rateService.exchangeRate}transform(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"usd",minimumFractionDigits:2}).format(t/this.exchangeRate().rate_value||0)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=b({name:"exchangedLira",type:e,pure:!0,standalone:!0})}}return e})();export{De as a,Ie as b};
