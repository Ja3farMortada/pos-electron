import{b as M}from"./chunk-23C7B2M2.js";import{a as q,b as L}from"./chunk-FA4OBAKY.js";import{b as H}from"./chunk-42BTCZ3Y.js";import{a as w}from"./chunk-5JE6H3SD.js";import{a as N}from"./chunk-UJ5JDQTE.js";import{a as j,b as D}from"./chunk-P4HR6EQA.js";import{f as A,g as F}from"./chunk-LBGQA5HW.js";import{c as P}from"./chunk-VVKQAEX7.js";import{C as u,D as k,Fa as o,Ga as V,Ha as l,Na as g,Vb as T,Wb as B,Xa as r,Y as t,Ya as s,da as h,ga as v,ia as m,ib as y,mb as I,nb as C,oa as i,pa as a,pb as b,qa as S,va as _,wa as d,xc as E,y as x}from"./chunk-DSVZHE42.js";var O=(()=>{class e{constructor(){this.http=u(b),this.notificationService=u(T),this.api=u(B),this.loadingStockValue=h(!1),this.stockValue=h(null)}getStockValue(){this.loadingStockValue.set(!0),this.http.get(`${this.api.host()}/report/stock-value`).subscribe({next:n=>{this.stockValue.set(n),this.loadingStockValue.set(!1)},error:n=>{this.loadingStockValue.set(!1),this.notificationService.handleError(n.error,"home")}})}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function U(e,f){e&1&&(i(0,"div"),S(1,"p-skeleton",6)(2,"p-skeleton",7)(3,"p-skeleton",8),a())}function $(e,f){if(e&1&&(i(0,"h3",10),o(1),r(2,"translate"),i(3,"span",12),o(4),r(5,"currency"),a()()),e&2){let n=d(2);t(),l(" ",s(2,2,"Cost Value:")," "),t(3),l(" ",s(5,4,n.stockValue().cost_value_usd||0)," ")}}function z(e,f){if(e&1&&(i(0,"h3",10),o(1),r(2,"translate"),i(3,"span",13),o(4),r(5,"currency"),a()()),e&2){let n=d(2);t(),l(" ",s(2,2,"Selling Value:")," "),t(3),l(" ",s(5,4,n.stockValue().selling_value_usd||0)," ")}}function G(e,f){if(e&1&&(i(0,"h3",10),o(1),r(2,"translate"),i(3,"span",12),o(4),r(5,"lira"),a()()),e&2){let n=d(2);t(),l(" ",s(2,2,"Cost Value:")," "),t(3),l(" ",s(5,4,n.stockValue().cost_value_lbp||0)," ")}}function J(e,f){if(e&1&&(i(0,"h3",10),o(1),r(2,"translate"),i(3,"span",13),o(4),r(5,"lira"),a()()),e&2){let n=d(2);t(),l(" ",s(2,2,"Selling Value:")," "),t(3),l(" ",s(5,4,n.stockValue().selling_value_lbp||0)," ")}}function K(e,f){if(e&1&&(i(0,"div")(1,"p-divider"),o(2,"USD Stock"),a(),v(3,$,6,6,"h3",9)(4,z,6,6,"h3",9),i(5,"h3",10),o(6),r(7,"translate"),i(8,"span",11),o(9),a()(),i(10,"p-divider"),o(11,"LBP Stock"),a(),v(12,G,6,6,"h3",9)(13,J,6,6,"h3",9),i(14,"h3",10),o(15),r(16,"translate"),i(17,"span",11),o(18),a()()()),e&2){let n,c,p=d();t(3),m("ngIf",p.userPermissions().show_cost),t(),m("ngIf",p.userPermissions().show_stock),t(2),l(" ",s(7,8,"Total Items:")," "),t(3),l(" ",((n=p.stockValue())==null?null:n.total_quantity_usd)||0," "),t(3),m("ngIf",p.userPermissions().show_cost),t(),m("ngIf",p.userPermissions().show_stock),t(2),l(" ",s(16,10,"Total Items:")," "),t(3),l(" ",((c=p.stockValue())==null?null:c.total_quantity_lbp)||0," ")}}var ke=(()=>{class e{constructor(){this.stockValueService=u(O),this.authService=u(w),this.userPermissions=this.authService.userPermissions,this.stockValue=this.stockValueService.stockValue,this.loadingStockValue=this.stockValueService.loadingStockValue,this.stockValueService.getStockValue()}getStockValue(){this.stockValueService.getStockValue()}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=k({type:e,selectors:[["stock-value"]],standalone:!0,features:[g],decls:11,vars:8,consts:[[1,"surface-card","shadow-2","p-3","border-round"],[1,"flex","justify-content-between","mb-0"],[1,"block","text-500","font-medium","mb-2"],["tooltipPosition","top",1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",2,"width","2.5rem","height","2.5rem","cursor","pointer",3,"click","pTooltip"],[1,"pi","pi-refresh","text-blue-600","text-xl"],[4,"ngIf"],["width","20rem","styleClass","mb-2 mt-2"],["width","10rem","styleClass","mb-2"],["width","5rem","styleClass","mb-2"],["class","m-1",4,"ngIf"],[1,"m-1"],[1,"text-gray-900"],[1,"text-yellow-500"],[1,"text-primary"]],template:function(c,p){c&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"span",2),o(4),r(5,"translate"),a()(),i(6,"div",3),r(7,"translate"),_("click",function(){return p.getStockValue()}),S(8,"i",4),a()(),v(9,U,4,0,"div",5)(10,K,19,12,"div",5),a()),c&2&&(t(4),V(s(5,4,"Stock Value")),t(2),m("pTooltip",s(7,6,"Refresh")),t(3),m("ngIf",p.loadingStockValue()),t(),m("ngIf",!p.loadingStockValue()))},dependencies:[M,E,D,j,H,I,C,y,F,A,P,L,q,N],styles:["[_nghost-%COMP%]  div{font-family:Almarai,sans-serif!important}"]})}}return e})();export{ke as a};
